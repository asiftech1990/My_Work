Pythin Validator

# validate_config.py
import yaml
import sys

# Read YAML file
with open("config.yaml") as f:
    config = yaml.safe_load(f)

# Validation logic
def validate_config(config):
    required_keys = ["service_name", "env", "port"]
    allowed_envs = {"dev", "staging", "prod"}

    if not all(k in config for k in required_keys):
        print("Missing required keys")
        return False
    if config["env"] not in allowed_envs:
        print("Invalid environment value")
        return False
    if not isinstance(config["service_name"], str) or not config["service_name"].strip():
        print("Invalid service_name")
        return False
    if not (1 <= config["port"] <= 65535):
        print("Invalid port value")
        return False
    print("Configuration is valid")
    return True

# Run validation
if not validate_config(config):
    sys.exit(1)  # exit with error code if invalid



Python Raw validator

configuration = {
    "service_name" : "checkout-ms",
    "env" : "test",
    "port" : 2020
}

allowed_envs = {"dev", "staging", "prod"}


def validate_config(configuration):
    if "service_name" in configuration and "env" in configuration and "port" in configuration:
        if configuration["env"] in allowed_envs:
            if isinstance(configuration["service_name"], str) or configuration["service_name"].strip():
                if configuration["port"] <= 65535:
                    print("configuration is valid")
                else:
                    print("Port is in valid")
            else:
                print("Service_name is empty")
        else:
            print("Invalid environment name")
    else:
        print("Key is missing or incorrect")
validate_config(configuration)
